{"remainingRequest":"C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\src\\router\\index.js","mtime":1619256583995},{"path":"C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\akila\\OneDrive\\Bureau\\ProjetsOpenclassrooms\\Projet 7 test\\projet7\\groupomaniaProjet\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBGb3J1bSBmcm9tICcuLi92aWV3cy9BYm91dC52dWUnOwppbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi92aWV3cy9jb25uZWN0LnZ1ZSc7CmltcG9ydCBBY2NvdW50IGZyb20gJy4uL3ZpZXdzL1Byb2ZpbC52dWUnOwppbXBvcnQgR3JvdXBzIGZyb20gJy4uL3ZpZXdzL1V0aWxpc2F0ZXVycy52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL0ZvcnVtJywKICBuYW1lOiAnRm9ydW0nLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBGb3J1bQp9LCB7CiAgcGF0aDogJy9Mb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogQ29ubmVjdGlvbgp9LCB7CiAgcGF0aDogJy9BY2NvdW50JywKICBuYW1lOiAnTXlBY2NvdW50JywKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogQWNjb3VudAp9LCB7CiAgcGF0aDogJy9VdGlsaXNhdGV1cnMnLAogIG5hbWU6ICdVdGlsaXNhdGV1cnMnLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBHcm91cHMKfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICgncmVxdWlyZUxvZ2dlZEluJyBpbiB0by5tZXRhKSB7CiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcicsIHsKICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgaXNMb2dnZWRJbiA9IGZhbHNlOwogICAgICB2YXIgcmVxdWlyZUxvZ2dlZEluID0gdG8ubWV0YS5yZXF1aXJlTG9nZ2VkSW47CgogICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VyKSB7CiAgICAgICAgaXNMb2dnZWRJbiA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChyZXF1aXJlTG9nZ2VkSW4gPT09IHRydWUgJiYgaXNMb2dnZWRJbiA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiBuZXh0KCk7CiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZUxvZ2dlZEluID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIG5leHQoJy9sb2dpbicpOwogICAgICB9IGVsc2UgaWYgKHJlcXVpcmVMb2dnZWRJbiA9PT0gZmFsc2UgJiYgaXNMb2dnZWRJbiA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gbmV4dCgpOwogICAgICB9IGVsc2UgaWYgKHJlcXVpcmVMb2dnZWRJbiA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gbmV4dCgnLycpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXh0KCk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJlcXVpcmVMb2dnZWRJbiA9IHRvLm1ldGEucmVxdWlyZWRMb2dnZWRJbjsKCiAgICAgIGlmIChyZXF1aXJlTG9nZ2VkSW4gPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gbmV4dCgnL2xvZ2luJyk7CiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZUxvZ2dlZEluID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiBuZXh0KCcvJyk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgcmV0dXJuIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/akila/OneDrive/Bureau/ProjetsOpenclassrooms/Projet 7 test/projet7/groupomaniaProjet/src/router/index.js"],"names":["Vue","VueRouter","Home","Forum","Connection","Account","Groups","use","routes","path","name","component","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","meta","axios","get","withCredentials","then","response","isLoggedIn","requireLoggedIn","data","user","catch","requiredLoggedIn"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,IAAMO,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAET;AAHb,CADa,EAMb;AACEO,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAER;AANb,CANa,EAcb;AACEM,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAEP;AANb,CAda,EAsBb;AACEK,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,WAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAEN;AANb,CAtBa,EA8Bb;AACEI,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,cAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAEL;AANb,CA9Ba,CAAf;AAuCA,IAAMM,MAAM,GAAG,IAAIX,SAAJ,CAAc;AAC3BY,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BT,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAKAI,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAI,qBAAqBF,EAAE,CAACG,IAA5B,EAAkC;AAChCC,IAAAA,KAAK,CAACC,GAAN,CAAU,gCAAV,EAA4C;AAC1CC,MAAAA,eAAe,EAAE;AADyB,KAA5C,EAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AAClB,UAAIC,UAAU,GAAG,KAAjB;AACA,UAAIC,eAAe,GAAGV,EAAE,CAACG,IAAH,CAAQO,eAA9B;;AAEA,UAAIF,QAAQ,CAACG,IAAT,CAAcC,IAAlB,EAAwB;AACtBH,QAAAA,UAAU,GAAG,IAAb;AACD;;AAED,UAAIC,eAAe,KAAK,IAApB,IAA4BD,UAAU,KAAK,IAA/C,EAAqD;AACnD,eAAOP,IAAI,EAAX;AACD,OAFD,MAEO,IAAIQ,eAAe,KAAK,IAAxB,EAA8B;AACnC,eAAOR,IAAI,CAAC,QAAD,CAAX;AACD,OAFM,MAEA,IAAIQ,eAAe,KAAK,KAApB,IAA6BD,UAAU,KAAK,KAAhD,EAAuD;AAC5D,eAAOP,IAAI,EAAX;AACD,OAFM,MAEA,IAAIQ,eAAe,KAAK,KAAxB,EAA+B;AACpC,eAAOR,IAAI,CAAC,GAAD,CAAX;AACD,OAFM,MAEA;AACL,eAAOA,IAAI,EAAX;AACD;AACF,KAtBH,EAuBGW,KAvBH,CAuBS,YAAM;AACX,UAAIH,eAAe,GAAGV,EAAE,CAACG,IAAH,CAAQW,gBAA9B;;AAEA,UAAIJ,eAAe,KAAK,IAAxB,EAA8B;AAC5B,eAAOR,IAAI,CAAC,QAAD,CAAX;AACD,OAFD,MAEO,IAAIQ,eAAe,KAAK,KAAxB,EAA+B;AACpC,eAAOR,IAAI,CAAC,GAAD,CAAX;AACD;AACF,KA/BH;AAgCD;;AAED,SAAOA,IAAI,EAAX;AACD,CArCD;AAsCA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Forum from '../views/About.vue'\nimport Connection from '../views/connect.vue'\nimport Account from '../views/Profil.vue'\nimport Groups from '../views/Utilisateurs.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/Forum',\n    name: 'Forum',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: Forum\n  },\n  {\n    path: '/Login',\n    name: 'Login',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: Connection\n  },\n  {\n    path: '/Account',\n    name: 'MyAccount',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: Account\n  },\n  {\n    path: '/Utilisateurs',\n    name: 'Utilisateurs',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: Groups\n  }\n]\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\nrouter.beforeEach((to, from, next) => {\n  if ('requireLoggedIn' in to.meta) {\n    axios.get('http://localhost:3000/api/user', {\n      withCredentials: true\n    })\n      .then((response) => {\n        var isLoggedIn = false\n        var requireLoggedIn = to.meta.requireLoggedIn\n\n        if (response.data.user) {\n          isLoggedIn = true\n        }\n\n        if (requireLoggedIn === true && isLoggedIn === true) {\n          return next()\n        } else if (requireLoggedIn === true) {\n          return next('/login')\n        } else if (requireLoggedIn === false && isLoggedIn === false) {\n          return next()\n        } else if (requireLoggedIn === false) {\n          return next('/')\n        } else {\n          return next()\n        }\n      })\n      .catch(() => {\n        var requireLoggedIn = to.meta.requiredLoggedIn\n\n        if (requireLoggedIn === true) {\n          return next('/login')\n        } else if (requireLoggedIn === false) {\n          return next('/')\n        }\n      })\n  }\n\n  return next()\n})\nexport default router\n"]}]}